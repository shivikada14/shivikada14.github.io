<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shivika Arora | FinTech Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
</head>
<body>
<nav>
    <div><strong>Shivika Arora</strong></div>
    <div>
        <a href="./index.html">Home</a>
        <a href="./experience.html">Experience</a>
        <a href="./research.html">Research</a>
        <a href="./dashboard.html" class="nav-highlight">Dashboard</a>
        <a href="./contact.html">Contact</a>
    </div>
</nav>

<header style="padding-bottom: 20px;">
    <h1>FinTech Dashboard</h1>
    <div class="profile-line">AI-Powered Market Intelligence & Portfolio Analytics</div>
</header>

<!-- ===== LIVE KPI BAR ===== -->
<div class="kpi-bar">
    <div class="kpi-bar-item">
        <span class="kpi-bar-label">S&amp;P 500</span>
        <span class="kpi-bar-val" id="db-sp500">5,842.47</span>
        <span class="kpi-bar-chg positive" id="db-sp500-chg">▲ +1.23%</span>
    </div>
    <div class="kpi-bar-divider"></div>
    <div class="kpi-bar-item">
        <span class="kpi-bar-label">FTSE 100</span>
        <span class="kpi-bar-val" id="db-ftse">8,312.10</span>
        <span class="kpi-bar-chg positive" id="db-ftse-chg">▲ +0.87%</span>
    </div>
    <div class="kpi-bar-divider"></div>
    <div class="kpi-bar-item">
        <span class="kpi-bar-label">BTC/USD</span>
        <span class="kpi-bar-val" id="db-btc">$97,204</span>
        <span class="kpi-bar-chg negative" id="db-btc-chg">▼ -0.45%</span>
    </div>
    <div class="kpi-bar-divider"></div>
    <div class="kpi-bar-item">
        <span class="kpi-bar-label">10Y Treasury</span>
        <span class="kpi-bar-val">4.28%</span>
        <span class="kpi-bar-chg negative">▼ -0.03%</span>
    </div>
    <div class="kpi-bar-divider"></div>
    <div class="kpi-bar-item">
        <span class="kpi-bar-label">VIX</span>
        <span class="kpi-bar-val" id="db-vix">14.2</span>
        <span class="kpi-bar-chg positive">▲ LOW VOL</span>
    </div>
</div>

<!-- ===== TWO-COLUMN LAYOUT ===== -->
<div class="dashboard-layout">

    <!-- LEFT: AI SENTIMENT ANALYSER -->
    <div class="dashboard-panel">
        <div class="panel-header">
            <span class="panel-title">AI Stock Sentiment Analyser</span>
            <span class="panel-badge">AI-Powered</span>
        </div>

        <div class="sentiment-input-row">
            <input type="text" id="stock-input" class="terminal-input" placeholder="Enter company (e.g. Apple, Tesla, HSBC...)" />
            <button class="terminal-btn" id="analyse-btn" onclick="analyseStock()">ANALYSE</button>
        </div>

        <div class="demo-hint">Try: Apple · Tesla · HSBC · Goldman Sachs · Google · Amazon · Barclays · BlackRock</div>

        <div id="sentiment-result" class="sentiment-result hidden">
            <div class="sentiment-score-row">
                <div class="sentiment-gauge-wrap">
                    <canvas id="gaugeCanvas" width="200" height="110"></canvas>
                    <div class="gauge-label" id="gauge-label">—</div>
                </div>
                <div class="sentiment-meta">
                    <div class="sentiment-company" id="sentiment-company">—</div>
                    <div class="sentiment-verdict" id="sentiment-verdict">—</div>
                    <div class="sentiment-score-display">
                        Score: <span id="sentiment-score-num" class="score-num">—</span><span style="color:var(--text-slate)">/100</span>
                    </div>
                </div>
            </div>
            <div class="sentiment-breakdown" id="sentiment-breakdown"></div>
        </div>

        <div id="sentiment-loading" class="loading-state hidden">
            <div class="terminal-loader">
                <span class="loader-dot">▮</span> Analysing market signals<span class="ellipsis"></span>
            </div>
        </div>
    </div>

    <!-- RIGHT: PORTFOLIO SIMULATOR -->
    <div class="dashboard-panel">
        <div class="panel-header">
            <span class="panel-title">Portfolio Simulator</span>
            <span class="panel-badge">Interactive</span>
        </div>

        <div class="slider-section">
            <div class="slider-row">
                <label>Equities <span class="asset-tag eq">EQ</span></label>
                <input type="range" min="0" max="100" value="50" id="sl-eq" oninput="updatePortfolio()">
                <span class="slider-val" id="val-eq">50%</span>
            </div>
            <div class="slider-row">
                <label>Bonds <span class="asset-tag bd">FI</span></label>
                <input type="range" min="0" max="100" value="25" id="sl-bd" oninput="updatePortfolio()">
                <span class="slider-val" id="val-bd">25%</span>
            </div>
            <div class="slider-row">
                <label>Crypto <span class="asset-tag cr">CRYPTO</span></label>
                <input type="range" min="0" max="100" value="10" id="sl-cr" oninput="updatePortfolio()">
                <span class="slider-val" id="val-cr">10%</span>
            </div>
            <div class="slider-row">
                <label>Real Estate <span class="asset-tag re">REIT</span></label>
                <input type="range" min="0" max="100" value="10" id="sl-re" oninput="updatePortfolio()">
                <span class="slider-val" id="val-re">10%</span>
            </div>
            <div class="slider-row">
                <label>Cash <span class="asset-tag ca">CASH</span></label>
                <input type="range" min="0" max="100" value="5" id="sl-ca" oninput="updatePortfolio()">
                <span class="slider-val" id="val-ca">5%</span>
            </div>
            <div class="allocation-total">
                Total: <span id="total-pct">100%</span>
            </div>
        </div>

        <div class="portfolio-metrics">
            <div class="pm-card">
                <div class="pm-label">Expected Annual Return</div>
                <div class="pm-val positive" id="pm-return">+8.4%</div>
            </div>
            <div class="pm-card">
                <div class="pm-label">Portfolio Volatility (σ)</div>
                <div class="pm-val" id="pm-vol">12.3%</div>
            </div>
            <div class="pm-card">
                <div class="pm-label">Sharpe Ratio</div>
                <div class="pm-val" id="pm-sharpe">0.68</div>
            </div>
            <div class="pm-card">
                <div class="pm-label">Risk Profile</div>
                <div class="pm-val" id="pm-risk">Moderate</div>
            </div>
        </div>

        <div class="chart-wrap">
            <canvas id="portfolioChart"></canvas>
        </div>
    </div>
</div>

<footer>
    © 2026 Shivika Arora | BSc Finance Graduate
</footer>

<script>
// ========== KPI FLUCTUATIONS ==========
const kpiDefs = {
    sp500: { base: 5842.47, fmt: v => v.toFixed(2) },
    ftse:  { base: 8312.10, fmt: v => v.toFixed(2) },
    btc:   { base: 97204,   fmt: v => '$' + Math.round(v).toLocaleString() },
    vix:   { base: 14.2,    fmt: v => v.toFixed(1) },
};
setInterval(() => {
    Object.entries(kpiDefs).forEach(([k, d]) => {
        const newVal = d.base + d.base * 0.002 * (Math.random() - 0.5) * 2;
        const chg = (newVal - d.base) / d.base * 100;
        const el = document.getElementById('db-' + k);
        if (el) el.textContent = d.fmt(newVal);
        const chgEl = document.getElementById('db-' + k + '-chg');
        if (chgEl) {
            chgEl.textContent = chg >= 0 ? `▲ +${Math.abs(chg).toFixed(2)}%` : `▼ -${Math.abs(chg).toFixed(2)}%`;
            chgEl.className = 'kpi-bar-chg ' + (chg >= 0 ? 'positive' : 'negative');
        }
    });
}, 3000);

// ========== DEMO SENTIMENT DATA ==========
const demoData = {
    apple: {
        company: "Apple Inc.", ticker: "AAPL", score: 82, verdict: "BULLISH",
        summary: "Strong services revenue growth and loyal ecosystem continue to underpin Apple's premium valuation despite hardware saturation.",
        factors: [
            { label: "Revenue Growth",      score: 78, note: "Services segment growing 15% YoY, offsetting iPhone plateau." },
            { label: "Market Position",     score: 92, note: "Dominant brand loyalty and ecosystem lock-in remain unmatched." },
            { label: "Macro Headwinds",     score: 65, note: "Strong USD and China slowdown create modest revenue drag." },
            { label: "Innovation Pipeline", score: 80, note: "Vision Pro and AI integration signal next growth chapter." }
        ]
    },
    tesla: {
        company: "Tesla Inc.", ticker: "TSLA", score: 58, verdict: "NEUTRAL",
        summary: "Price cuts and intensifying EV competition weigh on margins, though energy storage division shows emerging upside.",
        factors: [
            { label: "Revenue Growth",      score: 52, note: "Automotive margins compressed by aggressive discounting strategy." },
            { label: "Market Position",     score: 70, note: "Still EV market leader but BYD closing the gap in key markets." },
            { label: "Macro Headwinds",     score: 45, note: "Rising interest rates dampen consumer appetite for big-ticket EVs." },
            { label: "Innovation Pipeline", score: 68, note: "Cybertruck ramp and Full Self-Driving progress remain key catalysts." }
        ]
    },
    hsbc: {
        company: "HSBC Holdings plc", ticker: "HSBA", score: 74, verdict: "BULLISH",
        summary: "Higher-for-longer interest rates are boosting HSBC's net interest margin, with Asia exposure providing strong growth runway.",
        factors: [
            { label: "Revenue Growth",      score: 76, note: "NIM expansion driving record pre-tax profits across retail banking." },
            { label: "Market Position",     score: 80, note: "Unrivalled Asia-Pacific network gives structural competitive advantage." },
            { label: "Macro Headwinds",     score: 62, note: "China commercial real estate exposure remains a monitored risk." },
            { label: "Innovation Pipeline", score: 70, note: "Digital banking investment accelerating, particularly in Hong Kong." }
        ]
    },
    goldman: {
        company: "Goldman Sachs Group", ticker: "GS", score: 71, verdict: "BULLISH",
        summary: "M&A revival and strong equities trading revenue are lifting Goldman's investment banking franchise after a difficult 2023.",
        factors: [
            { label: "Revenue Growth",      score: 74, note: "IB fee revenue recovering strongly as deal pipeline reopens." },
            { label: "Market Position",     score: 85, note: "Top-tier advisory brand commands premium mandates globally." },
            { label: "Macro Headwinds",     score: 58, note: "Credit loss provisions rising; consumer banking exit still costly." },
            { label: "Innovation Pipeline", score: 68, note: "AI integration in trading systems improving execution efficiency." }
        ]
    },
    google: {
        company: "Alphabet Inc.", ticker: "GOOGL", score: 79, verdict: "BULLISH",
        summary: "Search advertising resilience and Cloud momentum make Alphabet a compelling play, though AI competition from rivals is intensifying.",
        factors: [
            { label: "Revenue Growth",      score: 80, note: "Google Cloud growing 28% YoY, narrowing gap with AWS and Azure." },
            { label: "Market Position",     score: 88, note: "Search monopoly remains intact despite regulatory scrutiny." },
            { label: "Macro Headwinds",     score: 60, note: "Ad market softness and DOJ antitrust rulings create overhang." },
            { label: "Innovation Pipeline", score: 82, note: "Gemini AI suite and DeepMind breakthroughs reinforce tech leadership." }
        ]
    },
    amazon: {
        company: "Amazon.com Inc.", ticker: "AMZN", score: 83, verdict: "BULLISH",
        summary: "AWS reacceleration and improving retail margins are driving a significant earnings inflection that the market is beginning to price in.",
        factors: [
            { label: "Revenue Growth",      score: 84, note: "AWS revenue growth reaccelerating to 17% after 2023 optimisation cycle." },
            { label: "Market Position",     score: 90, note: "Cloud and e-commerce dominance create formidable moats." },
            { label: "Macro Headwinds",     score: 65, note: "Labour costs and logistics investment continue to pressure retail margins." },
            { label: "Innovation Pipeline", score: 85, note: "Bedrock AI platform and Kuiper satellite broadband are emerging bets." }
        ]
    },
    barclays: {
        company: "Barclays plc", ticker: "BARC", score: 66, verdict: "BULLISH",
        summary: "Barclays is benefiting from rate-driven NIM expansion while its investment bank diversifies revenue, though cost discipline remains key.",
        factors: [
            { label: "Revenue Growth",      score: 68, note: "UK retail banking benefiting materially from higher base rate environment." },
            { label: "Market Position",     score: 70, note: "Dual UK-US model provides revenue diversification peers lack." },
            { label: "Macro Headwinds",     score: 58, note: "UK consumer credit stress and mortgage arrears rising moderately." },
            { label: "Innovation Pipeline", score: 65, note: "Digital-first strategy and fintech partnerships progressing steadily." }
        ]
    },
    blackrock: {
        company: "BlackRock Inc.", ticker: "BLK", score: 77, verdict: "BULLISH",
        summary: "AUM growth driven by ETF inflows and alternatives expansion positions BlackRock as the structural winner in global asset management.",
        factors: [
            { label: "Revenue Growth",      score: 75, note: "iShares ETF platform capturing majority of passive investment flows." },
            { label: "Market Position",     score: 92, note: "World's largest asset manager with unmatched distribution scale." },
            { label: "Macro Headwinds",     score: 62, note: "Fee compression in passive strategies a structural long-term pressure." },
            { label: "Innovation Pipeline", score: 76, note: "Aladdin risk platform and private markets expansion driving fees higher." }
        ]
    }
};

function generateFallback(name) {
    const score = 45 + Math.floor(Math.random() * 35);
    const verdict = score >= 65 ? 'BULLISH' : score >= 50 ? 'NEUTRAL' : 'BEARISH';
    return {
        company: name.charAt(0).toUpperCase() + name.slice(1),
        ticker: name.slice(0,4).toUpperCase(),
        score,
        verdict,
        summary: `Sentiment analysis indicates a ${verdict.toLowerCase()} outlook based on current market positioning, sector trends, and macroeconomic conditions.`,
        factors: [
            { label: "Revenue Growth",      score: Math.max(10, Math.min(95, score + Math.floor(Math.random()*12)-6)), note: "Revenue trajectory aligns with broader sector performance." },
            { label: "Market Position",     score: Math.max(10, Math.min(95, score + Math.floor(Math.random()*12)-6)), note: "Competitive positioning is moderate relative to sector peers." },
            { label: "Macro Headwinds",     score: Math.max(10, Math.min(95, score + Math.floor(Math.random()*12)-6)), note: "Macro environment presents a balanced risk/reward profile." },
            { label: "Innovation Pipeline", score: Math.max(10, Math.min(95, score + Math.floor(Math.random()*12)-6)), note: "Pipeline developments are in line with market expectations." }
        ]
    };
}

function analyseStock() {
    const input = document.getElementById('stock-input').value.trim();
    if (!input) return;

    document.getElementById('sentiment-result').classList.add('hidden');
    document.getElementById('sentiment-loading').classList.remove('hidden');
    document.getElementById('analyse-btn').disabled = true;

    const delay = 1800 + Math.random() * 1000;
    setTimeout(() => {
        const key = input.toLowerCase().replace(/[^a-z]/g, '');
        const matched = Object.keys(demoData).find(k => key.includes(k) || k.includes(key));
        const data = demoData[matched] || generateFallback(input);
        document.getElementById('sentiment-loading').classList.add('hidden');
        document.getElementById('analyse-btn').disabled = false;
        renderSentiment(data);
    }, delay);
}

document.getElementById('stock-input').addEventListener('keydown', e => {
    if (e.key === 'Enter') analyseStock();
});

function renderSentiment(d) {
    document.getElementById('sentiment-company').textContent = `${d.company} (${d.ticker})`;
    document.getElementById('gauge-label').textContent = d.verdict;
    document.getElementById('gauge-label').className = 'gauge-label ' + verdictClass(d.verdict);
    document.getElementById('sentiment-verdict').textContent = d.summary;
    document.getElementById('sentiment-score-num').textContent = d.score;
    document.getElementById('sentiment-score-num').style.color = scoreColor(d.score);

    drawGauge(d.score);

    const wrap = document.getElementById('sentiment-breakdown');
    wrap.innerHTML = d.factors.map(f => `
        <div class="factor-row">
            <div class="factor-top">
                <span class="factor-label">${f.label}</span>
                <span class="factor-score" style="color:${scoreColor(f.score)}">${f.score}/100</span>
            </div>
            <div class="factor-bar-bg">
                <div class="factor-bar-fill" style="width:0%;background:${scoreColor(f.score)}" data-target="${f.score}"></div>
            </div>
            <div class="factor-note">${f.note}</div>
        </div>
    `).join('');

    document.getElementById('sentiment-result').classList.remove('hidden');
    setTimeout(() => {
        document.querySelectorAll('.factor-bar-fill').forEach(bar => {
            bar.style.width = bar.dataset.target + '%';
        });
    }, 50);
}

function verdictClass(v) {
    if (v.includes('BULLISH')) return 'positive';
    if (v.includes('BEARISH')) return 'negative';
    return '';
}
function scoreColor(s) {
    if (s >= 65) return '#22d3ee';
    if (s >= 45) return '#f59e0b';
    return '#f43f5e';
}

function drawGauge(score) {
    const canvas = document.getElementById('gaugeCanvas');
    const ctx = canvas.getContext('2d');
    ctx.clearRect(0, 0, 200, 110);
    const cx = 100, cy = 100, r = 80;
    ctx.beginPath();
    ctx.arc(cx, cy, r, Math.PI, 2 * Math.PI);
    ctx.lineWidth = 16;
    ctx.strokeStyle = 'rgba(255,255,255,0.07)';
    ctx.lineCap = 'round';
    ctx.stroke();
    const scoreAngle = Math.PI + (score / 100) * Math.PI;
    const grad = ctx.createLinearGradient(20, 100, 180, 100);
    grad.addColorStop(0, '#f43f5e');
    grad.addColorStop(0.5, '#f59e0b');
    grad.addColorStop(1, '#22d3ee');
    ctx.beginPath();
    ctx.arc(cx, cy, r, Math.PI, scoreAngle);
    ctx.lineWidth = 16;
    ctx.strokeStyle = grad;
    ctx.lineCap = 'round';
    ctx.stroke();
}

// ========== PORTFOLIO SIMULATOR ==========
const assetParams = {
    eq: { ret: 0.10, vol: 0.18, color: '#22d3ee' },
    bd: { ret: 0.04, vol: 0.05, color: '#d946ef' },
    cr: { ret: 0.25, vol: 0.70, color: '#f59e0b' },
    re: { ret: 0.07, vol: 0.12, color: '#10b981' },
    ca: { ret: 0.05, vol: 0.01, color: '#94a3b8' },
};
let donutChart = null;

function updatePortfolio() {
    const ids = ['eq','bd','cr','re','ca'];
    const vals = ids.map(id => parseFloat(document.getElementById('sl-' + id).value));
    const total = vals.reduce((a,b) => a+b, 0);

    ids.forEach((id, i) => { document.getElementById('val-' + id).textContent = vals[i] + '%'; });

    const totalEl = document.getElementById('total-pct');
    totalEl.textContent = total + '%';
    totalEl.style.color = Math.abs(total - 100) > 5 ? '#f43f5e' : '#22d3ee';

    if (total === 0) return;
    const weights = vals.map(v => v / total);
    let portRet = 0, portVol = 0;
    ids.forEach((id, i) => {
        portRet += weights[i] * assetParams[id].ret;
        portVol += Math.pow(weights[i] * assetParams[id].vol, 2);
    });
    portVol = Math.sqrt(portVol);
    const sharpe = (portRet - 0.04) / portVol;

    document.getElementById('pm-return').textContent = (portRet >= 0 ? '+' : '') + (portRet * 100).toFixed(1) + '%';
    document.getElementById('pm-return').className = 'pm-val ' + (portRet >= 0 ? 'positive' : 'negative');
    document.getElementById('pm-vol').textContent = (portVol * 100).toFixed(1) + '%';
    document.getElementById('pm-sharpe').textContent = sharpe.toFixed(2);

    let risk = 'Conservative';
    if (portVol > 0.3)       risk = 'Very High Risk';
    else if (portVol > 0.18) risk = 'High Risk';
    else if (portVol > 0.10) risk = 'Moderate';
    else if (portVol > 0.05) risk = 'Low-Moderate';
    document.getElementById('pm-risk').textContent = risk;

    const labels = ['Equities','Bonds','Crypto','Real Estate','Cash'];
    const colors = ids.map(id => assetParams[id].color);
    if (donutChart) {
        donutChart.data.datasets[0].data = vals;
        donutChart.update();
    } else {
        const ctx = document.getElementById('portfolioChart').getContext('2d');
        donutChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels,
                datasets: [{
                    data: vals,
                    backgroundColor: colors.map(c => c + 'cc'),
                    borderColor: colors,
                    borderWidth: 2,
                    hoverOffset: 8,
                }]
            },
            options: {
                responsive: true,
                cutout: '65%',
                plugins: {
                    legend: { labels: { color: '#94a3b8', font: { size: 12 }, padding: 16 } },
                    tooltip: { callbacks: { label: ctx => ` ${ctx.label}: ${ctx.raw}%` } }
                }
            }
        });
    }
}

updatePortfolio();
</script>
</body>
</html>
